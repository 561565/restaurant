{"remainingRequest":"D:\\Vue项目\\restaurant_p\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Vue项目\\restaurant_p\\src\\components\\login.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Vue项目\\restaurant_p\\src\\components\\login.vue","mtime":1592218727687},{"path":"D:\\Vue项目\\restaurant_p\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Vue项目\\restaurant_p\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\Vue项目\\restaurant_p\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Vue项目\\restaurant_p\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHVzZXJOYW1lOiAiIiwNCiAgICAgIHVzZXJQYXNzd29yZDogIiINCiAgICB9Ow0KICB9LA0KICBtZXRob2RzOiB7DQogICAgbG9naW4oKSB7DQogICAgICBpZiAoIXRoaXMuY2tOYW1lKHRoaXMudXNlck5hbWUpKSB7DQogICAgICAgIHRoaXMuJGVsZW1lbnRVSS5NZXNzYWdlLmVycm9yKCLotKblj7fmoLzlvI/plJnor68iKTsNCiAgICAgIH0gZWxzZSBpZiAoDQogICAgICAgIHRoaXMudXNlclBhc3N3b3JkLmxlbmd0aCA8IDYgfHwNCiAgICAgICAgdGhpcy51c2VyUGFzc3dvcmQubGVuZ3RoID4gMjANCiAgICAgICkgew0KICAgICAgICB0aGlzLiRlbGVtZW50VUkuTWVzc2FnZS5lcnJvcigi5a+G56CB5qC85byP6ZSZ6K+vIik7DQogICAgICB9IGVsc2UgaWYgKHRoaXMuJHN0b3JlLnN0YXRlLmlzTG9naW4pIHsNCiAgICAgICAgdGhpcy4kZWxlbWVudFVJLk1lc3NhZ2UuZXJyb3IoIuivt+S4jeimgemHjeWkjeeZu+mZhiIpOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy4kYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5wb3N0WyJDb250ZW50LVR5cGUiXSA9ICJhcHBsaWNhdGlvbi9qc29uIjsNCiAgICAgICAgdGhpcy4kYXhpb3MNCiAgICAgICAgICAucG9zdCgNCiAgICAgICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmh0dHBVcmwgKyAiL2xvZ2luQWRtaW4iLA0KICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkoew0KICAgICAgICAgICAgICBhY2NvdW50OiB0aGlzLnVzZXJOYW1lLA0KICAgICAgICAgICAgICBwYXNzd29yZDogdGhpcy51c2VyUGFzc3dvcmQNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgKQ0KICAgICAgICAgIC50aGVuKHJlcyA9PiB7DQogICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMuZGF0YSk7DQogICAgICAgICAgICBpZiAocmVzLmRhdGEuZmxhZykgew0KICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS50b2tlbiA9IHJlcy5kYXRhLmRhdGEudG9rZW47DQogICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgibG9naW4iLCByZXMuZGF0YS5kYXRhLmFkbWluKTsNCiAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oInRva2VuIiwgcmVzLmRhdGEuZGF0YS50b2tlbik7DQogICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvIik7DQogICAgICAgICAgICAgIHRoaXMuJGVsZW1lbnRVSS5NZXNzYWdlLnN1Y2Nlc3MoDQogICAgICAgICAgICAgICAgIueZu+W9leaIkOWKnyzmrKLov47mgqgiICsgcmVzLmRhdGEuZGF0YS5hZG1pbi5hY2NvdW50DQogICAgICAgICAgICAgICk7DQogICAgICAgICAgICB9IGVsc2UgaWYgKHJlcy5kYXRhLmNvZGUgPT09IDIwMDAxKSB7DQogICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsDQogICAgICAgICAgICAgICAgbWVzc2FnZTogIui0puWPt+S4jeWtmOWcqO+8gSINCiAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9IGVsc2UgaWYgKHJlcy5kYXRhLmNvZGUgPT09IDIwMDA0KSB7DQogICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsDQogICAgICAgICAgICAgICAgbWVzc2FnZTogIuWvhueggemUmeivr++8gSINCiAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgfSk7DQogICAgICB9DQogICAgfSwNCiAgICBja05hbWUoc3RyKSB7DQogICAgICBsZXQgcGF0dGVuID0gL15bYS16QS1aXVx3ezQsMTV9JC9naTsNCiAgICAgIGlmICghcGF0dGVuLnRlc3Qoc3RyKSkgew0KICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICB9DQogICAgICByZXR1cm4gdHJ1ZTsNCiAgICB9LA0KICAgIHRvUmVnaXN0ZXIoKSB7DQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL3JlZ2lzdGVyIik7DQogICAgfQ0KICB9DQp9Ow0K"},{"version":3,"sources":["login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"login.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div\r\n    style=\"background: -webkit-gradient(linear,50% 50%,0 100%,from(rgb(102, 177, 255)),to(rgb(198, 226, 255));text-align:center;position: fixed;height: 100%;width: 100%;\"\r\n  >\r\n    <div class=\"k\">\r\n      <div style=\"display:flex;align-items:center;margin:40px 0 20px 30px;\">\r\n        <div style=\"width:70px;\">用户名：</div>\r\n        <div>\r\n          <el-input v-model=\"userName\" style=\"width: 270px;\" placeholder=\"请输入用户名\"></el-input>\r\n        </div>\r\n      </div>\r\n      <div style=\"display:flex;align-items:center;margin-left:30px;margin-bottom:30px;\">\r\n        <div style=\"width:70px;\">密码：</div>\r\n        <div>\r\n          <el-input v-model=\"userPassword\" style=\"width: 270px;\" placeholder=\"请输入密码\" show-password></el-input>\r\n        </div>\r\n      </div>\r\n      <div style=\"margin:15px auto;\">\r\n        <el-button @click=\"login()\" style=\"width:340px;\" type=\"primary\" round>登录</el-button>\r\n      </div>\r\n      <div style=\"font-size:14px;color:#555;padding-left:280px;\" @click=\"toRegister()\">去注册></div>\r\n    </div>\r\n    <div class=\"z\">未奇科技</div>\r\n    <div style=\"position:absolute;bottom:20px;left:calc(50vw - 92px);font-size:12px;color:#a1a1a1;\">\r\n      <div>版权所有：未奇科技</div>\r\n      <div>\r\n        工业部网站:\r\n        <a\r\n          style=\"text-decoration: none;color:#669;\"\r\n          href=\"https://www.beian.miit.gov.cn\"\r\n        >www.beian.miit.gov.cn</a>\r\n      </div>\r\n      <div>备案号：粤ICP备 18138533号-1</div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      userName: \"\",\r\n      userPassword: \"\"\r\n    };\r\n  },\r\n  methods: {\r\n    login() {\r\n      if (!this.ckName(this.userName)) {\r\n        this.$elementUI.Message.error(\"账号格式错误\");\r\n      } else if (\r\n        this.userPassword.length < 6 ||\r\n        this.userPassword.length > 20\r\n      ) {\r\n        this.$elementUI.Message.error(\"密码格式错误\");\r\n      } else if (this.$store.state.isLogin) {\r\n        this.$elementUI.Message.error(\"请不要重复登陆\");\r\n      } else {\r\n        this.$axios.defaults.headers.post[\"Content-Type\"] = \"application/json\";\r\n        this.$axios\r\n          .post(\r\n            this.$store.state.httpUrl + \"/loginAdmin\",\r\n            JSON.stringify({\r\n              account: this.userName,\r\n              password: this.userPassword\r\n            })\r\n          )\r\n          .then(res => {\r\n            console.log(res.data);\r\n            if (res.data.flag) {\r\n              this.$store.state.token = res.data.data.token;\r\n              this.$store.commit(\"login\", res.data.data.admin);\r\n              localStorage.setItem(\"token\", res.data.data.token);\r\n              this.$router.push(\"/\");\r\n              this.$elementUI.Message.success(\r\n                \"登录成功,欢迎您\" + res.data.data.admin.account\r\n              );\r\n            } else if (res.data.code === 20001) {\r\n              this.$message({\r\n                type: \"error\",\r\n                message: \"账号不存在！\"\r\n              });\r\n            } else if (res.data.code === 20004) {\r\n              this.$message({\r\n                type: \"error\",\r\n                message: \"密码错误！\"\r\n              });\r\n            }\r\n          });\r\n      }\r\n    },\r\n    ckName(str) {\r\n      let patten = /^[a-zA-Z]\\w{4,15}$/gi;\r\n      if (!patten.test(str)) {\r\n        return false;\r\n      }\r\n      return true;\r\n    },\r\n    toRegister() {\r\n      this.$router.push(\"/register\");\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scope>\r\n.el-input__inner {\r\n  background-color: rgb(235, 255, 248);\r\n  border-radius: 30px;\r\n}\r\n.el-input__inner::placeholder {\r\n  color: rgb(124, 124, 124);\r\n}\r\n\r\n.k {\r\n  background-color: rgb(194, 228, 255);\r\n  border: 5px solid rgb(219, 253, 246);\r\n  border-radius: 35px;\r\n  height: 260px;\r\n  width: 400px;\r\n  top: 60px;\r\n  margin: 50px auto 30px;\r\n  opacity: 0;\r\n\r\n  animation-name: k;\r\n  animation-delay: 2s;\r\n  animation-duration: 2s;\r\n  animation-fill-mode: forwards;\r\n}\r\n@keyframes k {\r\n  50% {\r\n    margin: 250px auto 30px;\r\n    opacity: 0;\r\n  }\r\n  to {\r\n    opacity: 1; /*不透明度*/\r\n    margin: 250px auto 30px;\r\n  }\r\n}\r\n\r\n.z {\r\n  font-size: 100px;\r\n  letter-spacing: 40px;\r\n  color: rgb(134, 134, 134);\r\n\r\n  animation-name: z;\r\n  animation-delay: 1s;\r\n  animation-duration: 0.8s;\r\n  animation-fill-mode: forwards;\r\n}\r\n@keyframes z {\r\n  to {\r\n    font-size: 25px;\r\n    letter-spacing: 3px;\r\n    margin-top: 30px;\r\n  }\r\n}\r\n</style>\r\n"]}]}