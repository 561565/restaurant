{"remainingRequest":"D:\\Vue项目\\restaurant_p\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Vue项目\\restaurant_p\\src\\components\\kitchenManagenment.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Vue项目\\restaurant_p\\src\\components\\kitchenManagenment.vue","mtime":1582995756581},{"path":"D:\\Vue项目\\restaurant_p\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Vue项目\\restaurant_p\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\Vue项目\\restaurant_p\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Vue项目\\restaurant_p\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIG9yZGVyTnVtYmVyOiAxLA0KICAgICAgb3JkZXJMaXN0OiBbXQ0KICAgIH07DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBmaW5pc2goaWQpIHsNCiAgICAgIHRoaXMub3JkZXJMaXN0W2lkXS5nb29kc0xpc3QuZm9yRWFjaChpID0+IHsNCiAgICAgICAgaS5zdGF0ZSA9ICLlt7LlrozmiJAiOw0KICAgICAgfSk7DQogICAgICB0aGlzLm9yZGVyTGlzdFtpZF0uc3RhdGUgPSAwOw0KICAgIH0sDQogICAgZ2V0T3JkZXIoKSB7DQogICAgICBpZiAodGhpcy5vcmRlckxpc3QpIHsNCiAgICAgICAgdGhpcy5vcmRlckxpc3QgPSBbXTsNCiAgICAgIH0NCiAgICAgIHRoaXMuJGF4aW9zDQogICAgICAgIC5nZXQodGhpcy4kc3RvcmUuc3RhdGUuaHR0cFVybCArICIvZ2V0T3JkZXJBZG1pbiIpDQogICAgICAgIC50aGVuKHJlcyA9PiB7DQogICAgICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEpOw0KICAgICAgICAgIHZhciBuID0gMDsNCiAgICAgICAgICByZXMuZGF0YS5kYXRhLmZvckVhY2goaSA9PiB7DQogICAgICAgICAgICB0aGlzLm9yZGVyTGlzdC5wdXNoKHsNCiAgICAgICAgICAgICAgb3JkZXJJZDogaS5vcmRlci5pZCwNCiAgICAgICAgICAgICAgdGltZTogaS5vcmRlci5vcmRlclBheVRpbWUsDQogICAgICAgICAgICAgIHRhYmxlOiBpLm9yZGVyLm9yZGVyVGFibGUsDQogICAgICAgICAgICAgIHN0YXRlOiBpLm9yZGVyLm9yZGVyU3RhdHVzLA0KICAgICAgICAgICAgICBnb29kc0xpc3Q6IFtdDQogICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgaS5vcmRlckdvb2RzTGlzdC5mb3JFYWNoKGcgPT4gew0KICAgICAgICAgICAgICB0aGlzLm9yZGVyTGlzdFtuXS5nb29kc0xpc3QucHVzaCh7DQogICAgICAgICAgICAgICAgaW1nOiBnLmdvb2RzSW1hZ2UsDQogICAgICAgICAgICAgICAgbmFtZTogZy5nb29kc05hbWUsDQogICAgICAgICAgICAgICAgbnVtOiBnLmdvb2RzTnVtLA0KICAgICAgICAgICAgICAgIHN0YXRlOg0KICAgICAgICAgICAgICAgICAgZy5zdGF0dXMgPT09IDENCiAgICAgICAgICAgICAgICAgICAgPyAi5q2j5Zyo5Yi25L2cIg0KICAgICAgICAgICAgICAgICAgICA6IGcuc3RhdHVzID09PSAyDQogICAgICAgICAgICAgICAgICAgID8gIuetieW+heS4iuiPnCINCiAgICAgICAgICAgICAgICAgICAgOiAi5bey5a6M5oiQIg0KICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgbisrOw0KICAgICAgICAgIH0pOw0KICAgICAgICB9KQ0KICAgICAgICAuY2F0Y2goZnVuY3Rpb24ocmVzKSB7DQogICAgICAgICAgY29uc29sZS5sb2cocmVzKTsNCiAgICAgICAgfSk7DQogICAgfQ0KICB9LA0KICBtb3VudGVkKCkgew0KICAgIHRoaXMuZ2V0T3JkZXIoKTsNCiAgfQ0KfTsNCg=="},{"version":3,"sources":["kitchenManagenment.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"kitchenManagenment.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div style=\"min-width:1300px;font-family:Franklin Gothic Medium;padding:25px 50px;\">\r\n    <div\r\n      style=\"box-shadow:0 0 3px 1px #ccc;background-color:#fdfdfd;border-radius:10px 10px 0 0;padding-top:20px;text-align:center;\"\r\n    >\r\n      <div style=\"margin-bottom:20px;margin-right:22px;margin-left:70px;\">\r\n        <el-row :gutter=\"10\">\r\n          <el-col :span=\"3\" :offset=\"0\">\r\n            <div style=\"padding-left:10px;\" class=\"grid-content bg-purple\">订单号</div>\r\n          </el-col>\r\n          <el-col :span=\"4\" :offset=\"11\">\r\n            <div style=\"padding-right:10px;\" class=\"grid-content bg-purple\">下单时间</div>\r\n          </el-col>\r\n          <el-col :span=\"2\">\r\n            <div style=\"padding-right:10px;\" class=\"grid-content bg-purple\">桌号</div>\r\n          </el-col>\r\n          <el-col :span=\"3\" :offset=\"1\">\r\n            <div class=\"grid-content bg-purple\">操作</div>\r\n          </el-col>\r\n        </el-row>\r\n      </div>\r\n      <el-collapse v-model=\"orderNumber\">\r\n        <div v-for=\"(i,id) in orderList\" :key=\"id\">\r\n          <el-collapse-item :name=\"id+1\">\r\n            <template slot=\"title\">\r\n              <div style=\"flex:1;text-align:center;margin-left:40px;\">\r\n                <el-row :gutter=\"10\">\r\n                  <el-col :span=\"3\">\r\n                    <div style=\"display:flex;\">\r\n                      <div style=\"margin-right:10px;margin-top:3px;\">\r\n                        <i class=\"el-icon-more\" style=\"font-size:20px;\"></i>\r\n                      </div>\r\n                      <div style=\"font-size:16px;\" class=\"grid-content bg-purple\">{{i.orderId}}</div>\r\n                    </div>\r\n                  </el-col>\r\n                  <el-col :span=\"4\" :offset=\"11\">\r\n                    <div\r\n                      style=\"font-size:16px;min-width:150px;\"\r\n                      class=\"grid-content bg-purple\"\r\n                    >{{new Date(i.time).toLocaleDateString().replace(/\\//g, \"-\") + \" \" + new Date(i.time).toTimeString().substr(0, 8)}}</div>\r\n                  </el-col>\r\n                  <el-col :span=\"2\">\r\n                    <div style=\"font-size:16px;\" class=\"grid-content bg-purple\">{{i.table}}</div>\r\n                  </el-col>\r\n                  <el-col :span=\"3\" :offset=\"1\">\r\n                    <div class=\"grid-content bg-purple\">\r\n                      <el-button\r\n                        v-if=\"i.state==1\"\r\n                        v-model=\"i.state\"\r\n                        @click.stop=\"finish(id)\"\r\n                        style=\"background-color:#fff;padding:7px 10px;font-size:17px;\"\r\n                        type=\"primary\"\r\n                        plain\r\n                      >全部完成</el-button>\r\n                      <el-button\r\n                        v-if=\"i.state==0\"\r\n                        style=\"padding:7px 10px;font-size:17px;\"\r\n                        type=\"info\"\r\n                        disabled\r\n                        plain\r\n                      >已全部完成</el-button>\r\n                    </div>\r\n                  </el-col>\r\n                </el-row>\r\n              </div>\r\n            </template>\r\n            <div style=\"margin:30px 0;\">\r\n              <div v-for=\"(g,goodsId) in i.goodsList\" :key=\"goodsId\">\r\n                <div style=\"display: flex;margin-top:20px;justify-content: space-between;\">\r\n                  <div\r\n                    style=\"margin-left:100px;margin-right:5px;flex:1;color:rgb(97, 97, 97);text-align:center;padding-right:20px;\"\r\n                  >\r\n                    <el-row :gutter=\"10\">\r\n                      <el-col :span=\"3\" :offset=\"3\">\r\n                        <div class=\"grid-content bg-purple\">\r\n                          <img\r\n                            style=\"width:90px;border: 1px dashed rgb(168, 168, 168) ;\"\r\n                            :src=\"g.img\"\r\n                            alt\r\n                          />\r\n                        </div>\r\n                      </el-col>\r\n                      <el-col :span=\"3\">\r\n                        <div\r\n                          style=\"margin-top:25px; font-size:16px;\"\r\n                          class=\"grid-content bg-purple\"\r\n                        >{{g.name}}</div>\r\n                      </el-col>\r\n\r\n                      <el-col :span=\"2\">\r\n                        <div\r\n                          style=\"margin-top:25px;font-size:16px;\"\r\n                          class=\"grid-content bg-purple\"\r\n                        >x{{g.num}}</div>\r\n                      </el-col>\r\n                      <el-col :span=\"3\">\r\n                        <div\r\n                          style=\"margin-top:25px;font-size:16px;\"\r\n                          class=\"grid-content bg-purple\"\r\n                          :class=\"{'g':g.state=='已完成' ,'o':g.state=='等待上菜','r':g.state=='正在制作'}\"\r\n                        >{{g.state}}</div>\r\n                      </el-col>\r\n                      <el-col :span=\"3\" :offset=\"7\">\r\n                        <div class=\"grid-content bg-purple\">\r\n                          <div style=\"padding-top:20px;margin:0 auto\">\r\n                            <el-button\r\n                              v-if=\"g.state=='已制作'\"\r\n                              v-model=\"g.state\"\r\n                              @click=\"g.state='已完成'\"\r\n                              style=\"background-color:#fff;padding:7px 10px;font-size:17px;\"\r\n                              type=\"primary\"\r\n                              plain\r\n                            >完成</el-button>\r\n                            <el-button\r\n                              v-if=\"g.state=='已完成'\"\r\n                              style=\"padding:7px 10px;font-size:17px;\"\r\n                              type=\"info\"\r\n                              disabled\r\n                              plain\r\n                            >已完成</el-button>\r\n                            <el-button\r\n                              v-if=\"g.state=='正在制作'\"\r\n                              style=\"padding:7px 10px;font-size:17px;\"\r\n                              type=\"info\"\r\n                              disabled\r\n                              plain\r\n                            >等待制作</el-button>\r\n                          </div>\r\n                        </div>\r\n                      </el-col>\r\n                    </el-row>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </el-collapse-item>\r\n        </div>\r\n      </el-collapse>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      orderNumber: 1,\r\n      orderList: []\r\n    };\r\n  },\r\n  methods: {\r\n    finish(id) {\r\n      this.orderList[id].goodsList.forEach(i => {\r\n        i.state = \"已完成\";\r\n      });\r\n      this.orderList[id].state = 0;\r\n    },\r\n    getOrder() {\r\n      if (this.orderList) {\r\n        this.orderList = [];\r\n      }\r\n      this.$axios\r\n        .get(this.$store.state.httpUrl + \"/getOrderAdmin\")\r\n        .then(res => {\r\n          console.log(res.data);\r\n          var n = 0;\r\n          res.data.data.forEach(i => {\r\n            this.orderList.push({\r\n              orderId: i.order.id,\r\n              time: i.order.orderPayTime,\r\n              table: i.order.orderTable,\r\n              state: i.order.orderStatus,\r\n              goodsList: []\r\n            });\r\n\r\n            i.orderGoodsList.forEach(g => {\r\n              this.orderList[n].goodsList.push({\r\n                img: g.goodsImage,\r\n                name: g.goodsName,\r\n                num: g.goodsNum,\r\n                state:\r\n                  g.status === 1\r\n                    ? \"正在制作\"\r\n                    : g.status === 2\r\n                    ? \"等待上菜\"\r\n                    : \"已完成\"\r\n              });\r\n            });\r\n            n++;\r\n          });\r\n        })\r\n        .catch(function(res) {\r\n          console.log(res);\r\n        });\r\n    }\r\n  },\r\n  mounted() {\r\n    this.getOrder();\r\n  }\r\n};\r\n</script>\r\n\r\n<style  scoped>\r\n.g {\r\n  color: rgb(12, 195, 12);\r\n}\r\n.r {\r\n  color: red;\r\n}\r\n.o {\r\n  color: orange;\r\n}\r\n.el-collapse-head-6883 {\r\n  background-color: blueviolet !important;\r\n}\r\n.el-collapse-item__header {\r\n  background-color: blueviolet !important;\r\n}\r\n</style>"]}]}